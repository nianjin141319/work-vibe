<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BART å‘ä¸Šç®¡ç†ï¼šå·¥ä½œé—œä¿‚æ·±åº¦è¨ºæ–·</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --olive-leaf: #606c38;
      --black-forest: #283618;
      --cornsilk: #fefae0;
      --sunlit-clay: #dda15e;
      --copperwood: #bc6c25;
    }
    body { font-family: 'Noto Sans TC', sans-serif; background: var(--cornsilk); color: var(--black-forest); }
    .glass-card { background: rgba(255, 255, 255, 0.9); border: 1px solid var(--sunlit-clay); }
    .option-btn { border: 1px solid var(--sunlit-clay); transition: .2s; background: white; color: var(--black-forest); }
    .option-btn:hover { background: var(--sunlit-clay); color: white; transform: translateX(4px); }
    .progress-fill { background: var(--olive-leaf); transition: width 0.4s ease-out; }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">

<div class="max-w-2xl w-full glass-card rounded-3xl p-8 shadow-2xl">

<div id="start-screen" class="text-center">
  <div class="w-20 h-20 bg-[#606c38] rounded-full mx-auto mb-6 flex items-center justify-center shadow-lg">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-[#fefae0]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
    </svg>
  </div>
  <h1 class="text-3xl font-bold mb-4 text-[#283618]">å‘ä¸Šç®¡ç†ï¼šBART æ·±åº¦è¨ºæ–·</h1>
  <p class="text-[#606c38] mb-8 leading-relaxed font-light">
    åŸºæ–¼å·¥ä½œçµæ§‹æ¨¡å‹ï¼Œé‡æ¸…ç§‘é•·å¸¶ä¾†çš„å£“åŠ›æºã€‚<br>
    <strong>é€™ä¸æ˜¯è©•åƒ¹ä½ çš„èƒ½åŠ›ï¼Œè€Œæ˜¯è§£æä½ çš„è™•å¢ƒã€‚</strong>
  </p>
  <button onclick="startQuiz()" class="bg-[#283618] text-[#fefae0] px-12 py-4 rounded-full font-bold hover:bg-[#606c38] transition-all shadow-md">
    é–‹å§‹è¨ºæ–·
  </button>
</div>

<div id="quiz-screen" class="hidden">
  <div class="mb-10">
    <div class="flex justify-between text-xs font-bold text-[#bc6c25] mb-2 tracking-widest">
      <span id="step">STEP 01</span>
      <span id="progress">1/12</span>
    </div>
    <div class="w-full bg-[#fefae0] h-2 rounded-full border border-[#dda15e]/30">
      <div id="bar" class="progress-fill h-full rounded-full"></div>
    </div>
  </div>

  <h2 id="question" class="text-xl mb-10 leading-relaxed min-h-[4rem] font-bold text-[#283618]"></h2>
  <div id="options" class="space-y-3"></div>
</div>

<div id="result-screen" class="hidden animate-fade-in">
  <h2 class="text-2xl font-bold text-center mb-6 text-[#283618]">å·¥ä½œçµæ§‹åˆ†æå ±å‘Š</h2>

  <div class="mb-8 flex justify-center">
    <div class="w-full max-w-[340px] bg-white p-4 rounded-3xl shadow-inner">
      <canvas id="chart"></canvas>
    </div>
  </div>

  <div class="p-6 rounded-2xl border bg-white border-[#dda15e] mb-8 shadow-sm">
    <h3 id="result-title" class="text-xl font-bold mb-3 text-[#bc6c25]"></h3>
    <p id="result-desc" class="text-sm text-[#283618] leading-relaxed mb-4"></p>
    <div id="resource-alert" class="text-xs font-bold p-3 rounded-lg mb-6"></div>

    <div class="space-y-4">
      <h4 class="text-xs font-bold uppercase tracking-tighter text-[#606c38] border-b border-[#fefae0] pb-2">
        ğŸ“ å»ºè­°æ¡å–çš„ POA æºé€šå°ç­–
      </h4>
      <div id="poa" class="text-sm leading-relaxed text-[#283618] space-y-4"></div>
    </div>
  </div>

  <button onclick="location.reload()" class="text-xs text-[#bc6c25] hover:underline w-full font-bold">
    é‡æ–°è©•ä¼°å·¥ä½œçµæ§‹
  </button>
</div>

</div>

<script>
const questions = [
 {q:"ç•¶ç§‘é•·è‡¨æ™‚æ”¹è®Šå°ˆæ¡ˆå„ªå…ˆé †åºæ™‚ï¼Œæˆ‘é€šå¸¸æœƒï¼š", o:["å…ˆæºé€šåˆç†æ€§èˆ‡è¡æ“Š","ç¢ºèªè³‡æºå¾Œæ¥å—","å…§å¿ƒç³¾çµä½†ä¿æŒæ²ˆé»˜","ç«‹åˆ»å…¨ç›¤é…åˆä¸å•ç´°ç¯€"], c:"B"},
 {q:"ç•¶ç§‘é•·è·³éä½ ç›´æ¥æ‰¾çµ„å“¡äº¤è¾¦ä»»å‹™æ™‚ï¼Œä½ çš„åæ‡‰ï¼š", o:["æ‰¾ç§‘é•·é‡æ¸…æºé€šçª—å£","æé†’çµ„å“¡å‹™å¿…å›å ±","æ„Ÿåˆ°ä¸å¿«ä½†è‡ªè¡Œè£œä½å®Œæˆ","æ”¾æ£„åæ˜ ï¼Œè¦ºå¾—èªªäº†ä¹Ÿæ²’ç”¨"], c:"A"},
 {q:"å°æ–¼ç§‘é•·å°ä½ é€™è§’è‰²çš„ã€æ ¸å¿ƒæœŸå¾…ã€ï¼Œä½ è¦ºå¾—ï¼š", o:["éå¸¸æ¸…æ¥šä¸”æœ‰å…±è­˜","å¤§è‡´æ¸…æ¥šä½†å¶çˆ¾æ¨¡ç³Š","æœŸå¾…å¸¸éš¨ä»–å¿ƒæƒ…è®Šå‹•","å®Œå…¨æ‰æ‘¸ä¸å®š"], c:"R"},
 {q:"ç§‘é•·è‡¨æ™‚äº¤è¾¦çš„ç‘£äº‹ï¼Œä½”ç”¨ä½ æ ¸å¿ƒç”¢å‡ºçš„æ¯”ä¾‹ï¼š", o:["ä½æ–¼ 10%","ç´„ 20% - 30%","æ¥è¿‘ä¸€åŠæ™‚é–“","è¶…éä¸€åŠï¼Œå¸¸é ˆåŠ ç­è£œé½Š"], c:"T"},
 {q:"ç•¶ä½ åœ¨å·¥ä½œé‡åˆ°ç“¶é ¸ï¼Œç§‘é•·èƒ½æä¾›å¯¦è³ªæ”¯æŒï¼š", o:["ç¸½æ˜¯å¦‚æ­¤","ç¶“å¸¸å¦‚æ­¤","å¾ˆå°‘ç™¼ç”Ÿ","å¾ä¸å¦‚æ­¤"], c:"Res"},
 {q:"ç§‘é•·é¡˜æ„å‚¾è½ä¸¦ç†è§£ä½ çš„å°ˆæ¥­è€ƒé‡ï¼š", o:["é«˜åº¦èªåŒ","éƒ¨åˆ†èªåŒ","å¾ˆå°‘èƒ½å°è©±","å®Œå…¨ä¸èªåŒ"], c:"Res"},
 {q:"ä¸‹ç­æˆ–éå·¥ä½œæ™‚é–“ï¼Œæ”¶åˆ°ç§‘é•·äº¤è¾¦äº‹é …çš„é »ç‡ï¼š", o:["å¹¾ä¹æ²’æœ‰","å¶çˆ¾ç™¼ç”Ÿ","æ¯é€±éƒ½æœ‰","å¹¾ä¹æ¯å¤©"], c:"B"},
 {q:"é—œæ–¼çµ„å…§çæ‡²èˆ‡è³‡æºåˆ†é…ï¼Œä½ æ“æœ‰çš„è©±èªæ¬Šï¼š", o:["å…·æœ‰é—œéµæ±ºå®šæ€§","æœ‰éƒ¨åˆ†å½±éŸ¿åŠ›","åƒ…ä¾›åƒè€ƒ","å®Œå…¨æ²’æœ‰å½±éŸ¿åŠ›"], c:"A"},
 {q:"ä½ æå‡ºæµç¨‹å„ªåŒ–å»ºè­°æ™‚ï¼Œç§‘é•·çš„åæ‡‰ï¼š", o:["ç©æ¥µæˆæ¬Šä¸¦æ”¯æŒ","å£é ­åŒæ„ä½†æ²’è³‡æº","ä¿æŒè§€æœ›ã€ç„¡æ˜ç¢ºæ…‹åº¦","ç¶“å¸¸è³ªç–‘æˆ–å¦æ±º"], c:"R"},
 {q:"ç›®å‰èˆ‡ç§‘é•·çš„äº’å‹•æ¨¡å¼ï¼Œæ˜¯å¦æ­£åœ¨æ¶ˆè€—ä½ çš„å¥åº·ï¼š", o:["å®Œå…¨ä¸æœƒ","å¶çˆ¾æ„Ÿåˆ°ç–²ç´¯","å¸¸æ„Ÿåˆ°ç„¦æ…®","å·²é™·å…¥ç²¾ç–²åŠ›ç«­"], c:"T"},
 {q:"ä½ å°ç§‘é•·æå‡ºã€ä¸åˆç†è¦æ±‚ã€çš„æ‹’çµ•å®‰å…¨æ„Ÿï¼š", o:["å¾ˆæœ‰ä¿¡å¿ƒ","çœ‹æƒ…æ³æ±ºå®š","æ„Ÿåˆ°å›°é›£","å®Œå…¨ä¸æ•¢é–‹å£"], c:"B"},
 {q:"ç§‘é•·äº¤è¾¦ä»»å‹™å‰ï¼Œæ˜¯å¦æœƒçµ¦äºˆæ¸…æ¥šçš„æˆåŠŸæ¨™æº–ï¼š", o:["æ¨™æº–éå¸¸æ˜ç¢º","å¤§è‡´æœ‰æ–¹å‘","å¾ˆæ¨¡ç³Š","åšå®Œæ‰èªªä¸æ˜¯ä»–è¦çš„"], c:"Res"}
];

let i=0;
let score={B:0,A:0,R:0,T:0,Res:0};

function startQuiz(){
 document.getElementById('start-screen').classList.add('hidden');
 document.getElementById('quiz-screen').classList.remove('hidden');
 show();
}

function show(){
 const q=questions[i];
 document.getElementById('question').innerText=q.q;
 document.getElementById('step').innerText=`STEP ${String(i+1).padStart(2,'0')}`;
 document.getElementById('progress').innerText=`${i+1}/${questions.length}`;
 document.getElementById('bar').style.width=`${(i+1)/questions.length*100}%`;

 const box=document.getElementById('options');
 box.innerHTML='';
 q.o.forEach((t,idx)=>{
  const b=document.createElement('button');
  b.className='option-btn w-full p-4 rounded-xl text-left font-medium';
  b.innerText=t;
  b.onclick=()=>choose(idx+1);
  box.appendChild(b);
 });
}

function choose(v){
 const c=questions[i].c;
 score[c]+= (c==="Res")?(5-v):v;
 i++;
 i<questions.length?show():result();
}

function result(){
 document.getElementById('quiz-screen').classList.add('hidden');
 document.getElementById('result-screen').classList.remove('hidden');
 confetti({ particleCount: 80, spread: 60, origin: { y: 0.7 }, colors: ['#606c38', '#bc6c25'] });

 const main=['B','A','R','T'].sort((a,b)=>score[b]-score[a]).slice(0,2);
 const map={
  B:{t:"ç•Œç·šå¤±å®ˆ (Boundary)",d:"ä½ æ­£åœ¨æ›¿åˆ¶åº¦å¸æ”¶ç§‘é•·çš„éš¨æ©Ÿå¹²æ“¾ï¼Œç•Œç·šé »ç¹è¢«åˆºç©¿ã€‚",p:"<strong>Plan:</strong> åˆ—å‡ºç•¶å‰å°ˆæ¡ˆè² è¼‰ã€‚<br><strong>Offer:</strong> å»ºè­°è‡¨æ™‚äº‹é …æ”¾å…¥å¾…è¾¦ã€‚<br><strong>Ask:</strong> è«‹ç§‘é•·æ±ºå®šå“ªå€‹èˆŠä»»å‹™å¯å…ˆæš«åœã€‚"},
  A:{t:"æ¬ŠåŠ›çœŸç©º (Authority)",d:"ä½ æ‰¿æ“”ç®¡ç†ä¹‹è²¬ï¼Œä½†ç§‘é•·ä¸¦æœªçµ¦äºˆå°ç­‰æˆæ¬Šï¼Œå°è‡´ä½ åä¸æ­£è¨€ä¸é †ã€‚",p:"<strong>Plan:</strong> æ“¬å®šæ˜ç¢ºçš„å›å ±çª—å£æµç¨‹ã€‚<br><strong>Offer:</strong> æè­°ç”±ä½ çµ±ä¸€éæ¿¾çµ„å“¡å•é¡Œã€‚<br><strong>Ask:</strong> è«‹ç§‘é•·å…¬é–‹ç¢ºç«‹ä½ çš„æ±ºç­–ç¯„åœã€‚"},
  R:{t:"è§’è‰²éŒ¯ä½ (Role)",d:"ä½ è¢«ç•¶ä½œã€é€²éšåŠ©ç†ã€æˆ–ã€æ•‘ç«éšŠå“¡ã€ï¼Œè€Œéç™¼æ®ä¸»ç®¡çš„ç®¡ç†åƒ¹å€¼ã€‚",p:"<strong>Plan:</strong> æ•´ç†ç®¡ç†å°å‘çš„å·¥ä½œé€±å ±ã€‚<br><strong>Offer:</strong> æä¾›æµç¨‹å„ªåŒ–ææ¡ˆã€‚<br><strong>Ask:</strong> ç¢ºèªç§‘é•·å°ä½ è·ä½çš„æ ¸å¿ƒ KPI æœŸå¾…ã€‚"},
  T:{t:"ä»»å‹™éè¼‰ (Task)",d:"éæ ¸å¿ƒçš„ç‘£äº‹å·²ä½”æ“šéå¤šèƒ½é‡ï¼Œå°è‡´ä½ åœ¨é‡è¦å°ˆæ¡ˆä¸Šé™·å…¥ç©ºè½‰ã€‚",p:"<strong>Plan:</strong> å±•ç¤ºä»»å‹™ä½”æ¯”åˆ†ä½ˆåœ–ã€‚<br><strong>Offer:</strong> æ‰¾å‡ºå¯å¤–åŒ…æˆ–è‡ªå‹•åŒ–çš„ç‘£äº‹ã€‚<br><strong>Ask:</strong> é‡å°æœ¬æœˆç›®æ¨™é‡æ–°æ’å®šå„ªå…ˆé †åºã€‚"}
 };

 document.getElementById('result-title').innerText= `${map[main[0]].t} Ã— ${map[main[1]].t}`;
 document.getElementById('result-desc').innerText= `${map[main[0]].d} åŒæ™‚ä¼´éš¨è‘— ${map[main[1]].d}ã€‚`;
 document.getElementById('poa').innerHTML= `
  <div class="bg-[#fefae0]/50 p-4 rounded-lg border-l-4 border-[#bc6c25]">
    <span class="font-bold text-[#bc6c25]">#é‡å° ${map[main[0]].t}ï¼š</span><br>${map[main[0]].p}
  </div>
  <div class="bg-[#fefae0]/50 p-4 rounded-lg border-l-4 border-[#606c38]">
    <span class="font-bold text-[#606c38]">#é‡å° ${map[main[1]].t}ï¼š</span><br>${map[main[1]].p}
  </div>`;

 const resAlert = document.getElementById('resource-alert');
 if(score.Res > 8) {
  resAlert.className += " bg-red-100 text-red-800";
  resAlert.innerText = "âš ï¸ è­¦ç¤ºï¼šç›®å‰å¹¾ä¹æ²’æœ‰ç·©è¡è³‡æºï¼Œä»»ä½•æ–°å£“åŠ›éƒ½æœƒç›´æ¥è½‰åŒ–ç‚ºæƒ…ç·’æ¶ˆè€—ã€‚";
 } else {
  resAlert.className += " bg-green-100 text-green-800";
  resAlert.innerText = "ğŸ’¡ è³‡æºï¼šä½ æ‰‹ä¸Šä»æœ‰äº›è¨±ç·©è¡ç©ºé–“ï¼Œå»ºè­°è¶ç¾åœ¨é‡æ–°èˆ‡ç§‘é•·åŠƒæ¸…é‚Šç•Œã€‚";
 }

 renderChart();
}

function renderChart(){
 new Chart(document.getElementById('chart'),{
  type:'radar',
  data:{
   labels:['ç•Œç·š','æ¬ŠåŠ›','è§’è‰²','ä»»å‹™','è³‡æºä¸è¶³'],
   datasets:[{
    data:[score.B, score.A, score.R, score.T, score.Res],
    fill:true,
    backgroundColor:'rgba(96, 108, 56, 0.1)',
    borderColor:'#606c38',
    pointBackgroundColor:'#bc6c25',
    borderWidth: 2
   }]
  },
  options:{
    plugins:{legend:{display:false}},
    scales:{r:{min:0,max:15,ticks:{display:false},grid:{color:'#fefae0'},angleLines:{color:'#fefae0'}}}
  }
 });
}
</script>
</body>
</html>
